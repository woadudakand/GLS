<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <title>GLS Map Edit</title>

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <!-- Openlayers Library Style -->
  <link rel="stylesheet" href="assets/css/ol.css" />
  <!-- Openlayers-ext Library Styles -->
  <link rel="stylesheet" href="assets/css/ol-ext.min.css" />
  <!-- Bootstrap CSS CDN -->
  <link rel="stylesheet" href="assets/bootstrap-3.3.7-dist/css/bootstrap.min.css" />
  <!-- Font-awesome Library Styles -->
  <link rel="stylesheet" href="assets/css/font-awesome/css/font-awesome.css">
  <!-- jQuery Custom Scrollbar Styles -->
  <link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css" />
  <!-- Main CSS -->
  <link rel="stylesheet" href="assets/css/main.css" />
</head>

<body>
  <div class="app-wrapper">
    <input id="txtfnam" name="txtfnam" type="hidden" value="abc.json" />
    <input id="txtblink" name="txtblink" type="hidden" value="" />
    <!-- {"type":"FeatureCollection","features":[{"type":"Feature","properties":{"id":"Zone-Zone-1","text":"Kitchen","color":"#2071d9"},"geometry":{"type":"Polygon","coordinates":[[[265.5,387],[434.5,387],[434.5,564],[265.5,564],[265.5,387]]]}},{"type":"Feature","properties":{"id":"Zone-Zone-2","text":"Living Room","color":"#8fd920"},"geometry":{"type":"Polygon","coordinates":[[[413.5,373],[625.5,373],[625.5,617],[413.5,617],[413.5,373]]]}}],"image":"map-image.png"} -->
    <!-- {"type":"FeatureCollection","features":[{"type":"Feature","properties":{"id":"Cable-1","text":"test3-Cable 1-Section 1-Zone","calibration":[{"offset":0,"coordinates":[338.8089325628489,490.8443562785619]},{"offset":12,"coordinates":[516.4280320165375,491.3432863332071]},{"offset":42,"coordinates":[938.4633528270091,492.52877880739385]},{"offset":73,"coordinates":[1376.826045242246,493.7601346849647]},{"offset":82,"coordinates":[1499.0455992705145,494.1034480389767]}]},"geometry":{"type":"LineString","coordinates":[[338.8089325628489,490.8443562785619],[1499.0455992705145,494.1034480389767]]}},{"type":"Feature","properties":{"id":"Cable-2","text":"test3-Cable 2-Section 1-Zone","calibration":[{"offset":0,"coordinates":[350.2157537243006,362.1102317421777]},{"offset":5,"coordinates":[431.6915639853006,362.45792367785765]},{"offset":49,"coordinates":[1036.2351222832062,365.03776816561543]},{"offset":74,"coordinates":[1393.1200327425263,366.5607478688558]},{"offset":82,"coordinates":[1495.7865075100997,366.9988693827999]}]},"geometry":{"type":"LineString","coordinates":[[350.2157537243006,362.1102317421777],[1495.7865075100997,366.9988693827999]]}},{"type":"Feature","properties":{"id":"Cable-3","text":"test3-Cable 3-Section 1-Zone","calibration":[{"offset":0,"coordinates":[356.7339372451302,233.37610720579346]},{"offset":6,"coordinates":[413.7770353909217,233.29643807430492]},{"offset":52,"coordinates":[837.4490342110603,232.70471740556172]},{"offset":87,"coordinates":[1161.7257559277375,232.25181695623675]},{"offset":120,"coordinates":[1464.8184225238822,231.82850317607455]},{"offset":127,"coordinates":[1523.4887874736253,231.74656132558607]}]},"geometry":{"type":"LineString","coordinates":[[356.7339372451302,233.37610720579346],[1523.4887874736253,231.74656132558607]]}}],"image":"C21119-1FL.1.png","File Name":"abc.json","All Cable Id":"Cable-1,Cable-2,Cable-3","All Zone Id":""} -->
    <!-- {"type":"FeatureCollection","features":[{"type":"Feature","properties":{"id":"Cable-2","text":"Cable 2","calibration":[{"offset":801,"coordinates":[1145.2164408110198,52.10418116306005],"radius":135.8970845092897},{"offset":900,"coordinates":[1281.1135253203095,52.10418116306005],"radius":135.8970845092897}]},"geometry":{"type":"Circle","coordinates":[[1145.2164408110198,52.10418116306005],135.8970845092897]}},{"type":"Feature","properties":{"id":"Cable-3","text":"Cable 3","calibration":[{"offset":901,"coordinates":[1652.865873602983,847.8614357137374]},{"offset":1000,"coordinates":[2708.865873602983,871.8614357137374]}]},"geometry":{"type":"LineString","coordinates":[[1652.865873602983,847.8614357137374],[2708.865873602983,871.8614357137374]]}},{"type":"Feature","properties":{"id":"Cable-1","text":"\n                      GDeviceAT30c01-Cable 1-Section 1-Functional Cable\n                    ","calibration":[{"offset":0,"coordinates":[2080.865873602983,383.86143571373736]},{"offset":800,"coordinates":[2326.043360334534,383.86143571373736]}]},"geometry":{"type":"Circle","coordinates":[[2080.865873602983,383.86143571373736],245.1774867315512]}}],"image":"map-image.png"} -->
    <!-- {"type":"FeatureCollection","features":[],"image":"map-image.png","delId":[]} -->
    <textarea id="txtgeojson" name="txtgeojson" hidden>
      {"type":"FeatureCollection","features":[{"type":"Feature","properties":{"id":"Cable-131","text":"Data Hall C-Cable 1-Section 1-Zone","calibration":[{"offset":0,"coordinates":[4417.634412198671,2767.6457297314823]},{"offset":474,"coordinates":[745.9161103167892,3741.7387460497484]},{"offset":569,"coordinates":[1570.9296268139808,1473.6297896203575]},{"offset":611,"coordinates":[2339.052393833616,1473.2319996159865]},{"offset":676,"coordinates":[3074.2871634229014,1472.8512414159093]},{"offset":712,"coordinates":[3664.876862254302,1472.5453909855264]},{"offset":777,"coordinates":[4232.015137101145,1392.3977213769226]},{"offset":1009,"coordinates":[4108.306433811007,3726.5172529355223]},{"offset":1092,"coordinates":[4090.343001459594,3115.360255015162]},{"offset":1122,"coordinates":[3664.2483669403123,3116.406156685443]},{"offset":1175,"coordinates":[3641.9457750982,2318.893757094641]},{"offset":1240,"coordinates":[3617.85113414473,3116.434150810261]},{"offset":1270,"coordinates":[3153.0486550018277,3115.800241569659]},{"offset":1300,"coordinates":[3130.8831472743077,3501.3871790644926]},{"offset":1329,"coordinates":[3117.8932281190437,3118.3882335842936]},{"offset":1389,"coordinates":[2189.3935741307932,3114.993123968118]}]},"geometry":{"type":"LineString","coordinates":[[4417.634412198671,2767.6457297314823],[4410.603162198671,1423.2707297314823],[4234.976651272265,1408.6591413758151],[4232.164151272265,1426.9403913758151],[792.6243368918215,1423.4085811367545],[791.2180868918215,1474.0335811367545],[4221.22978380223,1472.257270856041],[4221.22978380223,1390.694770856041],[4247.94853380223,1394.913520856041],[4240.91728380223,1483.507270856041],[4117.16728380223,1484.913520856041],[4118.000970127814,3725.635931452176],[4102.532220127814,3727.042181452176],[4105.344720127814,3115.323431452176],[3639.534142167892,3116.466820788849],[3648.3411355172148,2318.3123606929125],[3632.8723855172148,2319.7186106929125],[3629.81290491399,3116.4504645722673],[3139.109174933079,3115.7812305582697],[3140.419952340802,3502.340859571142],[3126.357452340802,3500.934609571142],[3130.576202340802,3118.434609571142],[2176.7226739950092,3114.9467921308237],[2179.5351739950092,3507.2905421308237],[2165.4726739950092,3507.2905421308237],[2168.2851739950092,3117.7592921308237],[1726.9013240193142,3112.7582809331666],[1722.4368215921297,2315.74220083608],[1709.7805715921297,2318.55470083608],[1706.9680715921297,3114.49220083608],[1217.3601341130584,3120.2515401277738],[1211.7351341130584,3762.907790127774],[1193.4538841130584,3762.907790127774],[1196.2663841130584,3118.845290127774],[785.2911103167892,3114.5512460497484],[785.2911103167892,3724.8637460497484],[771.2286103167892,3764.2387460497484],[745.9161103167892,3741.7387460497484]]}}],"image":"map-image.png","File Name":"[2]","All Cable Id":"Cable-131","All Zone Id":""}
    </textarea>
    <!-- Sidebar Holder -->
    <nav id="sidebar" class="app-sidebar">
      <div class="app-sidebar-header">
        <a href="gls.html">
          <img src="./assets/images/logo/perm-alert-logo.png" alt="logo image" width="100%" />
        </a>
        <h3 class="logo-text">GLS Editor</h3>
      </div>
      <ul class="list-unstyled app-sidebar-components">
        <li>
          <a href="#" id="upload-img" onclick="document.getElementById('fileInput').click();">
            <input id="fileInput" name="input_file" type="file" style="display: none" />
            <i class="fa fa-upload"></i> Import Image
          </a>
        </li>
        <li class="">
          <a href="#" id="none-click">
            <i class="fa fa-mouse-pointer"></i>
            Pointer
          </a>
        </li>
        <li>
          <a href="#" id="translateFeature">
            <i class="fa fa-arrows" aria-hidden="true"></i>
            Move </a>
        </li>
        <li>
          <a href="#" id="calibration-click">
            <i class="fa fa-map-marker" aria-hidden="true"></i>
            Select Calibration </a>
        </li>
        <li>
          <a href="#rotation" data-toggle="collapse" aria-expanded="false">
            <i class="fa fa-undo"></i> Map Rotate</a>
          <ul class="collapse list-unstyled" id="rotation">
            <li>
              <a href="#" id="rotate-left">
                <i class="fa fa-undo"></i>
                Rotate Left
              </a>
            </li>
            <li>
              <a href="#" id="rotate-right">
                <i class="fa fa-repeat" aria-hidden="true"></i>
                Rotate Right
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="#LockUnlock" data-toggle="collapse" aria-expanded="false">
            <i class="fa fa-lock"></i> Image Lock</a>
          <ul class="collapse list-unstyled" id="LockUnlock">
            <li>
              <a id="lock">
                <i class="fa fa-lock"></i>
                lock screen
              </a>
            </li>
            <li>
              <a id="unlock">
                <i class="fa fa-unlock"></i>
                unlock screen
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="#drawPolygons" data-toggle="collapse" aria-expanded="false">
            | Line
          </a>
          <ul class="collapse list-unstyled" id="drawPolygons">
            <li>
              <a href="#" id="line-click"> | Line </a>
            </li>
            <li>
              <a href="#" id="dotted-click"> | Hash Line </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="#" id="rectangle-click">
            <i class="fa fa-square-o" aria-hidden="true"></i>
            Rectangle
          </a>
        </li>
        <li>
          <a href="#" id="star-click">
            <i class="fa fa-star" aria-hidden="true"></i>
            Star
          </a>
        </li>
        <li>
          <a href="#" id="circle-click">
            <i class="fa fa-circle"></i>
            Circle
          </a>
        </li>
        <li>
          <a href="#" id="polygon-click">
            <i class="fa fa-square-o" aria-hidden="true"></i>
            Polygon
          </a>
        </li>
        <li>
          <a href="#" id="scaling">
            <i class="fa fa-search-plus" aria-hidden="true"></i>
            Scaling </a>
        </li>
        <p class="copyright">Â© 2021 PermAlert</p>
      </ul>
    </nav>
    <!-- End of Sidebar -->
    <!-- Modal Holder -->
    <div class="modal fade" id="scaleModel" role="dialog">
      <div class="modal-dialog">
        <!-- Modal Content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-sm-6">
                <input class='form-control input' class="form-control" type="number" placeholder="DISTANCE" value=""
                  id="distance" />
              </div>
              <div class="col-sm-6">
                <select class="form-control" name="distUnit" id="distUnit">
                  <option value="0">Feet</option>
                  <option value="1">Meter</option>
                </select>
              </div>
            </div>
          </div>
          <div class="modal-footer" style="text-align: center;">
            <button type="button" class="btn btn-default" data-dismiss="modal" id="displayScaling">OK</button>
            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          </div>
        </div>
        <!-- End of Modal Content -->
      </div>
    </div>
    <!-- End of Modal -->
    <div id="content">
      <nav class="navbar" id="side-nav-button">
        <div class="navbar-wrapper">
          <div class="navbar-header">
            <button
              type="button"
              id="sidebarCollapse"
              class="btn btn-info navbar-btn"
            >
              <i class="glyphicon glyphicon-align-left"></i>
            </button>
            <div style="flex-grow: 1"></div>
            <input type="color" name="zoneColor" id="zoneColor" />
            <button id="btnChangeColor" class="btn btn-primary">
              Change Color
            </button>
          </div>
          <div class="app-controller" id="controller">
            <div class="app-controller-assigner">
              <div class="app-controller-items">
                <div class="app-controller-item-layout">
                  <select
                    id="zone_list"
                    class="form-control app-optional"
                    aria-placeholder="Select Zone"
                  >
                    <option value="Zone-0">Select Zone</option>
                    <option value="Zone-1">Kitchen</option>
                    <option value="Zone-2">Living Room</option>
                    <option value="Zone-3">Bedroom</option>
                  </select>
                </div>
                <button class="btn btn-primary" id="btn_add_zone">
                  Assign Zone
                </button>
              </div>
              <div class="app-controller-items">
                <div class="app-controller-item-layout">
                  <select id="cable_list" class="form-control app-optional">
                    <option value="Cable-0/0">Select Cable</option>
                    <option value="Cable-1/0-800">
                      GDeviceAT30c01-Cable 1-Section 1-Functional Cable
                    </option>
                    <option value="Cable-2/18-978">Cable 2</option>
                    <option value="Cable-3/901-1000">Cable 3</option>
                  </select>
                </div>
                <button class="btn btn-primary" id="btn_add_cable">
                  Assign Cable
                </button>
              </div>
            </div>
            <div class="app-controller-button-group">
              <div class="app-controller-save">
                <button id="btnSave" class="btn btn-primary">Save</button>
                <button class="btn btn-default">Cancel</button>
              </div>
              <button class="btn btn-danger" id="btnDelete">Delete</button>
            </div>
          </div>
        </div>
      </nav>
      <div class="map-container">
        <div id="map" class="map"></div>
      </div>
    </div>
    <!-- Page Content Holder -->
    <div id="content">
      <nav class="navbar" id="side-nav-button">
        <div class="navbar-wrapper">
          <div class="navbar-header">
            <button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn">
              <i class="glyphicon glyphicon-align-left"></i>
            </button>
            <div style="flex-grow: 1;"></div>
          </div>
          <div class="app-controller" id="controller">
            <div class="app-controller-assigner">
              <div class="app-controller-items">
                <div class="app-controller-item-layout">
                  <select id="zone_list" class="form-control app-optional">
                    <option value="Zone-0">Select Zone</option>
                    <option value="Zone-1">Zone 1</option>
                    <option value="Zone-2">Zone 2</option>
                    <option value="Zone-3">Zone 3</option>
                  </select>
                </div>
                <button class="btn btn-primary" id="btn_add_zone">Assign Zone</button>
              </div>
              <!-- <div class="app-controller-items">
                <div class="app-controller-item-layout">
                  <select id="cable_list" class="form-control app-optional">
                    <option value="Cable-0/0">Select Cable</option>
                    <option value="Cable-1/601-800">GDeviceAT30c01-Cable 1-Section 1-Functional Cable</option>
                    <option value="Cable-2/0-600">Cable 2</option>
                    <option value="Cable-3/801-1000">Cable 3</option>
                  </select>
                </div>
                <button class="btn btn-primary" id="btn_add_cable">Assign Cable</button>
              </div> -->
            </div>
            <div class="app-controller-button-group">
              <div class="app-controller-save">
                <button id="btnSave" class="btn btn-primary">Save</button>
                <button class="btn btn-default">Cancel</button>
              </div>
              <button class="btn btn-danger" id="btnDelete">Delete</button>
            </div>
          </div>
        </div>
      </nav>
      <div class="map-container">
        <div id="map" class="map"></div>
      </div>
    </div>
    <!-- End of Page Content -->
    <!-- Tooltip Popup for Cable -->
    <div id="tooltip" class="ol-tooltip">
      <div id="tooltip-content"></div>
    </div>
    <!-- End of Tooltip Popup for Cable -->
    <!-- Alert -->
    <div id="alert" class="ol-alert">
    </div>
    <!-- End of Alert -->
    <!-- Popup for Cable Calibration -->
    <div id="popup" class="ol-popup">
      <a href="#" id="popup-closer" class="ol-popup-closer"></a>
      <div id="popup-content">
        <div class="ol-popup-input">
          <span>Please input calibration value</span>
          <input class="form-control input" type="number" name="calibration" id="calibrationInfo">
        </div>
        <div class="ol-popup-buttons">
          <button class="btn btn-primary" onclick="onCalibrationSave()">Save</button>
          <button class="btn btn-danger" onclick="onCalibrationDelete()">Delete</button>
        </div>
      </div>
    </div>
    <!-- End of Popup for Cable Calibration -->
  </div>

  <!-- Polyfill JS Library -->
  <script src="assets/js/polyfill.min.js"></script>
  <!-- Turf JS Library -->
  <script src="assets/js/turf.min.js"></script>
  <!-- Openlayers & Openlayers-ext Library -->
  <script src="assets/js/ol.js"></script>
  <script src="assets/js/ol-ext.js"></script>
  <!-- jQuery CDN -->
  <script src="assets/js/jquery-1.12.0.min.js"></script>
  <!-- Bootstrap Js CDN -->
  <script src="assets/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
  <!-- jQuery Custom Scroller CDN -->
  <script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <!-- Main JS -->
  <script src="assets/js/main-edit.js"></script>

  <script type="text/javascript">
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal",
      });

      $("#sidebarCollapse").on("click", function () {
        $("#sidebar, #content").toggleClass("active");
        $(".collapse.in").toggleClass("in");
        $("a[aria-expanded=true]").attr("aria-expanded", "false");
      });
    });
  </script>
</body>

</html>
